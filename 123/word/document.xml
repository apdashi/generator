<?xml version='1.0' encoding='UTF-8' standalone='yes'?>
<w:document xmlns:wpc="http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas" xmlns:mo="http://schemas.microsoft.com/office/mac/office/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:wp14="http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing" xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main" xmlns:w14="http://schemas.microsoft.com/office/word/2010/wordml" xmlns:wpg="http://schemas.microsoft.com/office/word/2010/wordprocessingGroup" xmlns:wpi="http://schemas.microsoft.com/office/word/2010/wordprocessingInk" xmlns:wne="http://schemas.microsoft.com/office/word/2006/wordml" xmlns:wps="http://schemas.microsoft.com/office/word/2010/wordprocessingShape" mc:Ignorable="w14 wp14"><w:body><w:p><w:r><w:t>Цель</w:t></w:r></w:p><w:p><w:r><w:t>Выполнить обновление функциональности  выполненные в рамках заявок:</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListBullet3"/></w:pPr><w:r><w:t>https://support.ramax.ru/issues/</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="Heading2"/></w:pPr><w:r><w:t>Этап 1. Подготовка к публикации</w:t></w:r></w:p><w:p><w:r><w:t xml:space="preserve">Дата и время публикации: с 0:00 до 0:00 01.01.00 </w:t><w:br/><w:t xml:space="preserve"> </w:t><w:br/><w:t>Список контактов ответственных сотрудников:</w:t></w:r></w:p><w:tbl><w:tblPr><w:tblW w:type="auto" w:w="0"/><w:tblLook w:firstColumn="1" w:firstRow="1" w:lastColumn="0" w:lastRow="0" w:noHBand="0" w:noVBand="1" w:val="04A0"/></w:tblPr><w:tblGrid><w:gridCol w:w="3288"/><w:gridCol w:w="3288"/><w:gridCol w:w="3288"/></w:tblGrid><w:tr><w:tc><w:tcPr><w:tcW w:type="dxa" w:w="3288"/></w:tcPr><w:p><w:r><w:t>Компания</w:t></w:r></w:p></w:tc><w:tc><w:tcPr><w:tcW w:type="dxa" w:w="3288"/></w:tcPr><w:p><w:r><w:t>Представитель</w:t></w:r></w:p></w:tc><w:tc><w:tcPr><w:tcW w:type="dxa" w:w="3288"/></w:tcPr><w:p><w:r><w:t>Email</w:t></w:r></w:p></w:tc></w:tr></w:tbl><w:p/><w:p><w:r><w:t xml:space="preserve">Производится рассылка плана публикации участникам проекта со стороны Исполнителя (ЗАО «РАМАКС ИНТЕРНЕЙШНЛ»). </w:t><w:br/><w:t>Команда публикации:</w:t></w:r></w:p><w:tbl><w:tblPr><w:tblW w:type="auto" w:w="0"/><w:tblLook w:firstColumn="1" w:firstRow="1" w:lastColumn="0" w:lastRow="0" w:noHBand="0" w:noVBand="1" w:val="04A0"/></w:tblPr><w:tblGrid><w:gridCol w:w="3288"/><w:gridCol w:w="3288"/><w:gridCol w:w="3288"/></w:tblGrid><w:tr><w:tc><w:tcPr><w:tcW w:type="dxa" w:w="3288"/></w:tcPr><w:p><w:r><w:t>Компания</w:t></w:r></w:p></w:tc><w:tc><w:tcPr><w:tcW w:type="dxa" w:w="3288"/></w:tcPr><w:p><w:r><w:t>Представитель</w:t></w:r></w:p></w:tc><w:tc><w:tcPr><w:tcW w:type="dxa" w:w="3288"/></w:tcPr><w:p><w:r><w:t>Email</w:t></w:r></w:p></w:tc></w:tr></w:tbl><w:p/><w:p><w:r><w:t>Производится уведомление команды публикации о дате и времени проведения публикации.</w:t></w:r></w:p><w:p/><w:p><w:pPr><w:pStyle w:val="Heading2"/></w:pPr><w:r><w:t>Этап 2. Публикация изменений</w:t></w:r></w:p><w:p/><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t xml:space="preserve">Системный администратор выполняет резервное копирование приложения и конфигурационных файлов на серверах  </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t xml:space="preserve">Системный администратор временно перенаправляет трафик  с сервера  на  </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="Code"/></w:pPr><w:r><w:t xml:space="preserve">iptables -t nat -A POSTROUTING -d  -p tcp -m tcp --dport  -j SNAT --to-source ;  </w:t><w:br/><w:t xml:space="preserve">iptables -t nat -A POSTROUTING -d  -p tcp -m tcp --dport  -j SNAT --to-source ; </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t xml:space="preserve">Системный администратор производит обновление кода приложения на сервере  путем переключения локальной версии на ветку релиза, выполнив команду Subversion. Номер ревизии:  </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="Code"/></w:pPr><w:r><w:t xml:space="preserve">svn switch  </w:t><w:br/><w:t>svn update</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t xml:space="preserve">Системный администратор перезапускает приложение на сервере  и отключает перенаправление трафика </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="Code"/></w:pPr><w:r><w:t xml:space="preserve">/etc/init.d/prod_schedule restart; </w:t><w:br/><w:t xml:space="preserve">while ! /usr/lib/nagios/plugins/check_tcp -H localhost -p 9780 ; do sleep 0.5 ; done;  </w:t><w:br/><w:t xml:space="preserve">iptables -t nat -A PREROUTING -d  -p tcp -m tcp --dport  -j DNAT --to-destination ;  </w:t><w:br/><w:t xml:space="preserve">iptables -t nat -A POSTROUTING -d  -p tcp -m tcp --dport  -j SNAT --to-source ; </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t xml:space="preserve">Системный администратор выполняет сравнение предыдущей и новой версии приложения, формирует отчет, содержащий следующие сведения: </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListBullet"/></w:pPr><w:r><w:t>список измененных файлов</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListBullet"/></w:pPr><w:r><w:t>diff –u (за исключением каталогов logs, pid)</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListBullet"/></w:pPr><w:r><w:t>исключить из отчета пароли</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListBullet"/></w:pPr><w:r><w:t xml:space="preserve">отчет направить на следующие адреса: </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t>Участники релиза совместно осуществляют тестирование по списку тест-кейсов из файла, выложенного в релизную заявку. Предварительно тестер у себя прописывает в файл hosts (%windir%\System32\drivers\etc\hosts) IP-адрес площадки сайта, и выполняет тесты</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="Code"/></w:pPr><w:r><w:t>185.69.80.8        www.aeroflot.ru</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t xml:space="preserve">В случае обнаружения ошибок на этапе тестирования принимается решение об откате изменений на сервере . </w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="ListNumber"/></w:pPr><w:r><w:t>Производится уведомление команды публикации о дате и времени проведения публикации.</w:t></w:r></w:p><w:p><w:pPr><w:pStyle w:val="Heading2"/></w:pPr><w:r><w:t>Этап 3. Мониторинг работы</w:t></w:r></w:p><w:p><w:r><w:t>Особый режим мониторинга не требуется.</w:t></w:r></w:p><w:sectPr w:rsidR="00FC693F" w:rsidRPr="0006063C" w:rsidSect="00034616"><w:headerReference r:id="rId9" w:type="default"/><w:pgSz w:w="12240" w:h="15840"/><w:pgMar w:top="1440" w:right="936" w:bottom="1440" w:left="1440" w:header="720" w:footer="720" w:gutter="0"/><w:cols w:space="720"/><w:docGrid w:linePitch="360"/></w:sectPr></w:body></w:document>